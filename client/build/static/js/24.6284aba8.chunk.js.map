{"version":3,"sources":["views/sdc/hedefekle/HedefEkle.js"],"names":["fields","key","_style","width","HedefEkle","useState","usersData","setUsersData","servicesData","setServicesData","displayedUser","setDisplayedUser","tableData","useEffect","fetchData","link","setState","a","fetch","method","headers","document","cookie","slice","res","status","json","console","log","xs","xl","htmlFor","custom","name","id","onChange","e","target","value","map","obj","i","user_id","username","service_id","placeholder","required","className","Date","getFullYear","readOnly","color","scope","items","tableFilter","footer","itemsPerPageSelect","itemsPerPage","hover","sorter","pagination"],"mappings":"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","file":"static/js/24.6284aba8.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CSelect,\r\n  CRow,\r\n  CForm,\r\n  CButton,\r\n  CDataTable\r\n} from '@coreui/react'\r\n\r\n// const dummyData = [\r\n//     {\r\n//         hizmet: \"DSL\",\r\n//         onaylanan_işlem: 20,\r\n//         hedef: 50,\r\n//         tarih: \"2021.06\"\r\n//     }\r\n// ]\r\n\r\nconst fields = [\r\n    { key: 'hizmet', _style: { width: '25%'} },\r\n    { key: 'onaylanan_işlem', _style: { width: '25%'} },\r\n    { key: 'hedef', _style: { width: '25%'} },\r\n    { key: 'tarih', _style: { width:'25%'}}\r\n  ]\r\n\r\nconst HedefEkle = () => {\r\n\r\n    const [usersData, setUsersData] = useState([])\r\n    const [servicesData, setServicesData] = useState([])\r\n    const [displayedUser, setDisplayedUser] = useState(\"\")\r\n    const [tableData, setTableData] = useState([])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async (link, setState) => {\r\n            const res = await fetch(link, {\r\n                method: 'GET',\r\n                headers: {\r\n                  'content-type': 'application/json',\r\n                  'authorization' :`Bearer ${document.cookie.slice(8)} `\r\n                }\r\n              })\r\n              if (res.status === 200) {\r\n                const fetchData = await res.json()\r\n                console.log(fetchData)\r\n                setState(fetchData)\r\n              }\r\n        }\r\n        fetchData(\"/sdc/users\", setUsersData)\r\n        fetchData(\"/services?profitable=true\", setServicesData)\r\n        if (displayedUser) {\r\n            const id = displayedUser\r\n            // const res = await fetch(`/sdc/user/${id}/count/?service=${\"ALL\"}&status=${\"ALL\"}`, {\r\n            //     method: 'GET',\r\n            //     headers: {\r\n            //       'content-type': 'application/json',\r\n            //       'authorization' :`Bearer ${document.cookie.slice(8)} `\r\n            //     }\r\n            //   })\r\n            //   if (res.status === 200) {\r\n            //     const fetchData = await res.json()\r\n            //     console.log(fetchData)\r\n                // const mappedData = fetchData.map(obj => {\r\n                //     return {\r\n                //         hizmet\r\n                //         onaylanan_işlem\r\n                //         hedef\r\n                //         tarih\r\n                //     }\r\n                // })\r\n                // setState(fetchData)\r\n              }\r\n        }, [displayedUser])\r\n\r\n    return (\r\n        <CCard>\r\n            <CCardHeader>\r\n                Hedef\r\n                <small> ekle</small>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n                <CForm>\r\n                    <CRow>\r\n                        <CCol xs = \"12\" xl=\"8\">\r\n                            <CRow>\r\n                                <CCol xl = \"6\">\r\n                                    <CFormGroup>\r\n                                        <CLabel htmlFor=\"user\">Kullanıcı</CLabel>\r\n                                        <CSelect custom name=\"user\" id=\"user\" onChange = {(e) => {console.log(e.target.value);setDisplayedUser(e.target.value)}} >\r\n                                        {\r\n                                            usersData && usersData.map((obj, i) => {\r\n                                                return <option key = {i} value = {obj.user_id} >{obj.username}</option>\r\n                                            })\r\n                                        }\r\n                                        </CSelect>\r\n                                    </CFormGroup>\r\n                                </CCol>\r\n                                <CCol xl = \"3\">\r\n                                    <CFormGroup>\r\n                                        <CLabel htmlFor=\"service\">Hizmet</CLabel>\r\n                                        <CSelect custom name=\"service\" id=\"service\">\r\n                                        {\r\n                                            servicesData && servicesData.map(obj => {\r\n                                                return <option key = {obj.service_id} value = {obj.service_id}>{obj.name}</option>\r\n                                            })    \r\n                                        }\r\n                                        </CSelect>\r\n                                    </CFormGroup>\r\n                                </CCol>\r\n                                <CCol xl = \"3\">\r\n                                    <CFormGroup>\r\n                                        <CLabel htmlFor=\"goal\">Hedef</CLabel>\r\n                                        <CInput id=\"goal\" placeholder=\"60\" required />\r\n                                    </CFormGroup>\r\n                                </CCol>\r\n                            </CRow>\r\n                            <CRow className = \"justify-content-center align-items-center\" >\r\n                                <CCol>\r\n                                    <CFormGroup>\r\n                                        <CLabel htmlFor=\"ccyear\">Sene</CLabel>\r\n                                        <CInput placeholder = {new Date().getFullYear()} readOnly />\r\n                                    </CFormGroup>\r\n                                </CCol>\r\n                                <CCol>\r\n                                    <CFormGroup>\r\n                                        <CLabel htmlFor=\"ccmonth\">Ay</CLabel>\r\n                                        <CSelect custom name=\"ccmonth\" id=\"ccmonth\">\r\n                                            <option value=\"1\">1</option>\r\n                                            <option value=\"2\">2</option>\r\n                                            <option value=\"3\">3</option>\r\n                                            <option value=\"4\">4</option>\r\n                                            <option value=\"5\">5</option>\r\n                                            <option value=\"6\">6</option>\r\n                                            <option value=\"7\">7</option>\r\n                                            <option value=\"8\">8</option>\r\n                                            <option value=\"9\">9</option>\r\n                                            <option value=\"10\">10</option>\r\n                                            <option value=\"11\">11</option>\r\n                                            <option value=\"12\">12</option>\r\n                                        </CSelect>\r\n                                    </CFormGroup>\r\n                                </CCol>\r\n                                <CCol>\r\n\r\n                                </CCol>\r\n                                <CCol>\r\n                                    <CFormGroup >\r\n                                        <CButton id = \"hedefekle\" color = \"success\" >Hedef Ekle</CButton>\r\n                                    </CFormGroup>\r\n                                </CCol>\r\n                            </CRow>\r\n                        </CCol>\r\n                        <CCol xs = \"12\" xl = \"4\">\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                <th scope=\"col\">#</th>\r\n                                <th scope=\"col\">Hizmet</th>\r\n                                <th scope=\"col\">Hedef</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                <th scope=\"row\">1</th>\r\n                                <td>Mark</td>\r\n                                <td>Otto</td>\r\n                                </tr>\r\n                                <tr>\r\n                                <th scope=\"row\">2</th>\r\n                                <td>Jacob</td>\r\n                                <td>Thornton</td>\r\n                                </tr>\r\n                                <tr>\r\n                                <th scope=\"row\">3</th>\r\n                                <td>Larry</td>\r\n                                <td>the Bird</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <CFormGroup>\r\n                            <CButton color = \"warning\" >Onayla</CButton>\r\n                        </CFormGroup>\r\n                        </CCol>\r\n                    </CRow>\r\n                </CForm>\r\n                <CDataTable\r\n                    items={tableData}\r\n                    fields={fields}\r\n                    tableFilter\r\n                    footer\r\n                    itemsPerPageSelect\r\n                    itemsPerPage={20}\r\n                    hover\r\n                    sorter\r\n                    pagination\r\n                />\r\n            </CCardBody>\r\n        </CCard>\r\n    )\r\n}\r\n\r\nexport default HedefEkle"],"sourceRoot":""}