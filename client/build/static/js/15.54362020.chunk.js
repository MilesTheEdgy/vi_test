(this.webpackJsonptest=this.webpackJsonptest||[]).push([[15],{681:function(e,t,i){},682:function(e,t,i){},711:function(e,t,i){"use strict";i.r(t);var s=i(63),n=i.n(s),c=i(88),a=i(166),r=i(167),l=i(169),o=i(168),d=i(636),j=i(1),u=i.n(j),p=i(635),b=i(638),h=(i(681),i(682),i(6)),m=function(e){return e.isloading?Object(h.jsx)("div",{className:e.isLoading?"loader":"",children:Object(h.jsx)("div",{className:e.isLoading?"spinner-border":"",role:"status"})}):Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)("div",{className:"spinner-border",role:"status",children:Object(h.jsx)("span",{className:"sr-only loader-icon",children:"Loading..."})})})},x=function(e){var t=e.reset,i=Object(j.useState)(!0),s=Object(d.a)(i,2),n=s[0],c=s[1];return Object(h.jsx)("div",{className:"loginerrmodal-body",children:Object(h.jsxs)(p.J,{show:n,centered:!0,color:"danger",borderColor:"danger",onClosed:function(){c(!1),t()},children:[Object(h.jsx)("div",{className:"loginerrmodal-header",children:Object(h.jsx)(p.N,{className:"loginerrmodal-title",children:"HATALI G\u0130R\u0130\u015e"})}),Object(h.jsx)(p.K,{children:"Ba\u015fvurunuzda eksik bilgi bulunyor, L\xfctfen Bilgilerinizi tamamlay\u0131n\u0131z"}),Object(h.jsx)(p.L,{children:Object(h.jsx)(p.d,{color:"secondary",onClick:function(){c(!1),t()},children:"Kapat"})})]})})},O=function(e){var t=e.isSuccess,i=e.toasterText;return Object(h.jsx)(p.cb,{position:"top-right",children:Object(h.jsx)(p.ab,{show:!0,autohide:3e3,fade:!0,color:t?"success":"danger",className:"applicationToaster",children:Object(h.jsx)(p.bb,{children:i})})})},f=function(e){var t=e.setClientWantsRouter;return Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"3",children:Object(h.jsx)(p.H,{children:"Modem istiyor mu?"})}),Object(h.jsxs)(p.j,{md:"9",onChange:t,children:[Object(h.jsxs)(p.v,{variant:"checkbox",children:[Object(h.jsx)(p.G,{className:"form-check-input",id:"radio1",name:"radios",value:"option1"}),Object(h.jsx)(p.H,{variant:"checkbox",htmlFor:"radio1",children:"Modem istiyor"})]}),Object(h.jsxs)(p.v,{variant:"checkbox",children:[Object(h.jsx)(p.G,{className:"form-check-input",id:"radio2",name:"radios",value:"option2"}),Object(h.jsx)(p.H,{variant:"checkbox",htmlFor:"radio2",children:"Modem istemiyor"})]})]})]})},S=function(e){var t=e.selectedService,i=e.offers,s=e.setOfferValueDSL,n=Object(j.useState)(!1),c=Object(d.a)(n,2),a=c[0],r=c[1];return Object(j.useEffect)((function(){return t.match(/^(|Devir|\u0130ptal|Nakil)$/)?r(!0):r(!1),function(){r(!1)}}),[t]),Object(h.jsx)(p.Q,{custom:!0,name:"select",id:"select",disabled:!!a,onChange:s,children:i.map((function(e,t){return Object(h.jsx)("option",{children:e},"".concat(t+1))}))})},v=function(e){Object(l.a)(i,e);var t=Object(o.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.call(this)).setClientWantsRouter=function(t){"option1"===t.target.value?e.setState({clientWantsRouter:1}):e.setState({clientWantsRouter:0})},e.setOfferValueDSL=function(t){var i=t.target.value;e.setState({selectedOffer:i}),"DSL"===e.state.selectedService&&""!==i?e.setState({isOfferValueDSL:!0}):e.setState({isOfferValueDSL:!1})},e.selectedServiceHandler=function(t){var i=t.target.value,s=e.state,n=s.dslOffers,c=s.taah\u00fctOffers,a=s.tivibuOffers,r=s.PSTNOffers;switch(e.setState({selectedService:i}),i){case"DSL":e.setState({offers:n,isOfferValueDSL:!1});break;case"Taah\xfct":e.setState({offers:c,isOfferValueDSL:!1});break;case"Tivibu":e.setState({offers:a,isOfferValueDSL:!1});break;case"PSTN":e.setState({offers:r,isOfferValueDSL:!1});break;default:e.setState({offers:[],isOfferValueDSL:!1})}},e.onDescriptionChange=function(t){e.setState({clientDescription:t.target.value})},e.onCustomernameChange=function(t){e.setState({clientName:t.target.value})},e.onSubmitApplication=Object(c.a)(n.a.mark((function t(){var i,s,c,a,r,l,o,d,j;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e.setState({isApplicationSubmitting:!0}),i=e.state,s=i.selectedService,c=i.selectedOffer,a=i.clientWantsRouter,r=i.clientDescription,l=i.clientName,o=e.state.clientAppFiles,(d=new FormData).append("selectedService",s),d.append("selectedOffer",c),d.append("clientWantsRouter",a),d.append("clientDescription",r),d.append("clientName",l),j=0;j<o.length;j++)d.append("image",o[j]);return t.prev=10,console.log("fetching"),t.next=14,fetch("/applications",{method:"POST",headers:{authorization:"Bearer ".concat(document.cookie.slice(8)," ")},body:d});case 14:200===t.sent.status?e.setState({isSubmitSuccess:!0,toasterText:"Talebiniz ba\u015far\u0131yla g\xf6nderilmi\u015ftir!"}):e.setState({isSubmitSuccess:!1,toasterText:"Bir sorun oldu, l\xfctfen daha sonra tekrar deneyin"}),e.setState({isApplicationSubmitting:!1,didApplicationFinishSubmit:!0}),e.resetInput(),setTimeout((function(){return e.resetAppStats()}),4300),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(10),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[10,21]])}))),e.resetInput=function(){e.setState({selectedService:"",selectedOffer:"",clientWantsRouter:0,clientDescription:"",clientName:"",offers:[],isOfferValueDSL:!1,areAppFieldsMissing:!1})},e.resetAppStats=function(){e.setState({isApplicationSubmitting:!1,isSubmitSuccess:void 0,didApplicationFinishSubmit:!1})},e.loadImage=function(t){if(t.target.files){console.log("event.target.files",t.target.files);var i=t.target.files;if(3!==i.length)return e.setState({didApplicationFinishSubmit:!0}),e.setState({isSubmitSuccess:!1,toasterText:"L\xfctfen 3 adet resim se\xe7iniz"}),setTimeout((function(){return e.resetAppStats()}),4300);for(var s=[],n=0;n<i.length;n++){if(0!==i[n].type.indexOf("image"))return e.setState({didApplicationFinishSubmit:!0}),e.setState({isSubmitSuccess:!1,toasterText:"L\xfctfen se\xe7ti\u011finiz dosya resim (JPG, PNG) oldu\u011fundan emin olun"}),setTimeout((function(){return e.resetAppStats()}),4300);var c=URL.createObjectURL(i[n]);s.push(c)}e.setState({clientAppFiles:i,clientAppFilesObjURL:s})}},e.onImageUpload=Object(c.a)(n.a.mark((function t(){var i,s,c,a,r,l;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=e.state,i.selectedService,i.selectedOffer,i.clientWantsRouter,i.clientDescription,i.clientName,s=e.state.clientAppFiles,(c=new FormData).append("selectedService","selectedService"),c.append("selectedOffer","selectedOffer"),c.append("clientWantsRouter","clientWantsRouter"),c.append("clientDescription","clientDescription"),c.append("clientName","clientName"),a=0;a<s.length;a++)c.append("image",s[a]);return t.prev=9,console.log("fetching"),t.next=13,fetch("/bayi/basvuru/yeni",{method:"POST",headers:{authorization:"Bearer ".concat(document.cookie.slice(8)," ")},body:c});case 13:return r=t.sent,t.next=16,r.json();case 16:l=t.sent,console.log("data from fetch",l),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(9),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[9,20]])}))),e.state={selectedService:"",selectedOffer:"",clientWantsRouter:0,clientDescription:"",clientName:"",clientAppFiles:null,clientAppFilesObjURL:null,offers:[],dslOffers:["","Ahlan","3 Ay Bedava","Fiber H\u0131z Sever","4 Mevsim"],"taah\xfctOffers":["","\u0130nternette F\u0131rsat Kampanyas\u0131","Efsane Taah\xfct Yenileme Kampanyas\u0131","En G\xfczel Taah\xfct Yenileme Kampanyas\u0131"],tivibuOffers:["","3 Ay Bedava Tivibu","Sinema Paketi","Super Paket","Giri\u015f Paket"],PSTNOffers:["","S\u0131n\u0131rs\u0131z Konu\u015f","250DK konu\u015fma Paketi"],isOfferValueDSL:!1,isApplicationSubmitting:!1,isSubmitSuccess:void 0,toasterText:"",didApplicationFinishSubmit:!1,areAppFieldsMissing:!1},e}return Object(r.a)(i,[{key:"render",value:function(){var e=this.state,t=e.selectedService,i=e.offers,s=e.isOfferValueDSL,n=e.isApplicationSubmitting,c=e.isSubmitSuccess,a=e.didApplicationFinishSubmit,r=e.clientDescription,l=e.clientName,o=e.areAppFieldsMissing,d=e.toasterText;return Object(h.jsx)(p.P,{className:"d-flex justify-content-center",children:Object(h.jsxs)(p.j,{xs:"12",md:"8",children:[n&&Object(h.jsx)(m,{}),a&&Object(h.jsx)(O,{isSuccess:c,toasterText:d}),o?Object(h.jsx)(x,{reset:this.resetInput}):null,Object(h.jsxs)(p.e,{children:[Object(h.jsx)(p.i,{className:"basvuruFormHeader",children:"Yeni Ba\u015fvuru Sayfas\u0131"}),Object(h.jsx)(p.f,{children:Object(h.jsxs)(p.u,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"3",children:Object(h.jsx)(p.H,{htmlFor:"disabled-input",children:"Aktivasyon"})}),Object(h.jsx)(p.j,{xs:"12",md:"9",children:Object(h.jsx)(p.B,{id:"disabled-input",name:"disabled-input",placeholder:"Abdullah Kara",disabled:!0})})]}),Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"3",children:Object(h.jsx)(p.H,{htmlFor:"disabled-input",children:"Sat\u0131\u015f Sorumlusu"})}),Object(h.jsx)(p.j,{xs:"12",md:"9",children:Object(h.jsx)(p.B,{id:"disabled-input",name:"disabled-input",placeholder:"Erdem Mutlu",disabled:!0})})]}),Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"3",children:Object(h.jsx)(p.H,{htmlFor:"disabled-input",children:"Bayi"})}),Object(h.jsx)(p.j,{xs:"12",md:"9",children:Object(h.jsx)(p.B,{id:"disabled-input",name:"disabled-input",placeholder:"EGE \u0130LET\u0130\u015e\u0130M",disabled:!0})})]}),Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"3",children:Object(h.jsx)(p.H,{htmlFor:"select",children:"Verilen Hizmet"})}),Object(h.jsx)(p.j,{xs:"12",md:"9",children:Object(h.jsxs)(p.Q,{value:t,custom:!0,name:"select",id:"select",onChange:this.selectedServiceHandler,children:[Object(h.jsx)("option",{}),Object(h.jsx)("option",{children:"DSL"}),Object(h.jsx)("option",{children:"Taah\xfct"}),Object(h.jsx)("option",{children:"Tivibu"}),Object(h.jsx)("option",{children:"PSTN"}),Object(h.jsx)("option",{children:"\u0130ptal"}),Object(h.jsx)("option",{children:"Nakil"}),Object(h.jsx)("option",{children:"Devir"})]})})]}),Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"3",children:Object(h.jsx)(p.H,{htmlFor:"select",children:"Kampanya Se\xe7imi"})}),Object(h.jsx)(p.j,{xs:"12",md:"9",children:Object(h.jsx)(S,{selectedService:t,offers:i,setOfferValueDSL:this.setOfferValueDSL})})]}),s?Object(h.jsx)(f,{setClientWantsRouter:this.setClientWantsRouter}):null,Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"3",children:Object(h.jsx)(p.H,{htmlFor:"textarea-input",children:"A\xe7\u0131klama"})}),Object(h.jsx)(p.j,{xs:"12",md:"9",children:Object(h.jsx)(p.Z,{name:"textarea-input",id:"textarea-input",rows:"9",placeholder:"\u0130\u015flemle alakal\u0131 ekstra detaylar\u0131n\u0131z",value:r,onChange:this.onDescriptionChange})})]}),Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"3",children:Object(h.jsx)(p.H,{htmlFor:"text-input",children:"M\xfc\u015fteri"})}),Object(h.jsxs)(p.j,{xs:"12",md:"9",children:[Object(h.jsx)(p.B,{value:l,id:"text-input",name:"text-input",placeholder:"",onChange:this.onCustomernameChange}),Object(h.jsx)(p.w,{children:"m\xfc\u015fterinin isim soyisimi"})]})]}),Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"3",children:Object(h.jsx)(p.H,{children:"Ba\u015fvuru dosyalar\u0131"})}),Object(h.jsxs)(p.j,{xs:"12",md:"9",children:[Object(h.jsx)(p.C,{id:"file-multiple-input",name:"file-multiple-input",multiple:!0,custom:!0,onChange:this.loadImage}),Object(h.jsx)(p.H,{htmlFor:"file-multiple-input",variant:"custom-file",children:"Dosyalar\u0131n\u0131 se\xe7"})]})]}),null===this.state.clientAppFiles?Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"4",children:Object(h.jsx)("img",{alt:"",style:{maxWidth:"200px",maxHeight:"200px"},src:"https://res.cloudinary.com/papyum/image/upload/v1629721581/iys/placeholder_fb7gch.png"})}),Object(h.jsx)(p.j,{md:"4",children:Object(h.jsx)("img",{alt:"",style:{maxWidth:"200px",maxHeight:"200px"},src:"https://res.cloudinary.com/papyum/image/upload/v1629721581/iys/placeholder_fb7gch.png"})}),Object(h.jsx)(p.j,{md:"4",children:Object(h.jsx)("img",{alt:"",style:{maxWidth:"200px",maxHeight:"200px"},src:"https://res.cloudinary.com/papyum/image/upload/v1629721581/iys/placeholder_fb7gch.png"})})]}):Object(h.jsxs)(p.v,{row:!0,children:[Object(h.jsx)(p.j,{md:"4",children:Object(h.jsx)("img",{alt:"",style:{maxWidth:"200px",maxHeight:"200px"},src:this.state.clientAppFilesObjURL[0]})}),Object(h.jsx)(p.j,{md:"4",children:Object(h.jsx)("img",{alt:"",style:{maxWidth:"200px",maxHeight:"200px"},src:this.state.clientAppFilesObjURL[1]})}),Object(h.jsx)(p.j,{md:"4",children:Object(h.jsx)("img",{alt:"",style:{maxWidth:"200px",maxHeight:"200px"},src:this.state.clientAppFilesObjURL[2]})})]})]})}),Object(h.jsxs)(p.g,{children:[Object(h.jsxs)(p.d,{type:"submit",size:"sm",color:"primary",onClick:this.onSubmitApplication,children:[Object(h.jsx)(b.a,{name:"cil-scrubber"})," G\xf6nder"]}),Object(h.jsxs)(p.d,{type:"reset",size:"sm",color:"danger",onClick:this.resetInput,children:[Object(h.jsx)(b.a,{name:"cil-ban"})," Resetle"]})]})]})]})})}}]),i}(u.a.Component);t.default=v}}]);
//# sourceMappingURL=15.54362020.chunk.js.map