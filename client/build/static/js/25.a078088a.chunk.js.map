{"version":3,"sources":["views/widgets/WidgetsDropdown.js"],"names":["WidgetsDropdown","userInfo","useSelector","state","reducer","loggedInUserInfo","useState","todaySales","setTodaySales","problematicSales","setProblematicSales","thisMonthSales","setThisMonthSales","thisYearSales","setThisYearSales","useEffect","urlStringRole","loggedInRole","urlString","console","log","fetchAppsCountData","setState","a","fetch","headers","document","cookie","slice","res","status","json","data","count","sm","lg","style","height","color","header","text"],"mappings":"2KA8FeA,UApFS,WACtB,IAAMC,EAAWC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQC,oBACpD,EAAoCC,mBAAS,KAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAgDF,mBAAS,KAAzD,mBAAOG,EAAP,KAAyBC,EAAzB,KACA,EAA4CJ,mBAAS,KAArD,mBAAOK,EAAP,KAAuBC,EAAvB,KACA,EAA0CN,mBAAS,KAAnD,mBAAOO,EAAP,KAAsBC,EAAtB,KAgCA,OA9BAC,qBAAU,WACR,IAAIC,EAAgB,GAElBA,EAD4B,yBAA1Bf,EAASgB,aACK,MAEA,SAClB,IAAMC,EAAS,gCAA4BF,EAA5B,uBACfG,QAAQC,IAAI,YAAaF,GACzB,IAAMG,EAAkB,uCAAG,WAAOH,EAAWI,GAAlB,mBAAAC,EAAA,6DACzBJ,QAAQC,IAAI,WADa,SAEPI,MAAMN,EAAW,CACjCO,QAAS,CACP,eAAgB,mBAChB,+BAA2BC,SAASC,OAAOC,MAAM,GAAjD,QALqB,UAQN,OANbC,EAFmB,QAQjBC,OARiB,iCASJD,EAAIE,OATA,OASjBC,EATiB,OAUvBb,QAAQC,IAAI,UAAWY,GACvBV,EAASU,EAAKC,OAXS,yCAaJJ,EAAIE,OAbA,QAajBC,EAbiB,OAcvBb,QAAQC,IAAIS,EAAIC,OAAQE,GAdD,4CAAH,wDAiBxBX,EAAmBH,EAAY,kCAAmCV,GAClEa,EAAmBH,EAAY,kCAAmCR,GAClEW,EAAmBH,EAAY,6BAA8BN,GAC7DS,EAAmBH,EAAY,4BAA6BJ,KAC3D,IAED,eAAC,IAAD,WACE,cAAC,IAAD,CAAMoB,GAAG,IAAIC,GAAG,IAAhB,SACE,cAAC,KAAD,CACEC,MAAS,CAACC,OAAQ,SAClBC,MAAM,mBACNC,OAAShC,EACTiC,KAAK,+DAKT,cAAC,IAAD,CAAMN,GAAG,IAAIC,GAAG,IAAhB,SACE,cAAC,KAAD,CACEC,MAAS,CAACC,OAAQ,SAClBC,MAAM,gBACNC,OAAQ9B,EACR+B,KAAK,gFAKT,cAAC,IAAD,CAAMN,GAAG,IAAIC,GAAG,IAAhB,SACE,cAAC,KAAD,CACIC,MAAS,CAACC,OAAQ,SAClBC,MAAM,mBACNC,OAAQ5B,EACR6B,KAAK,uCAKX,cAAC,IAAD,CAAMN,GAAG,IAAIC,GAAG,IAAhB,SACE,cAAC,KAAD,CACEC,MAAS,CAACC,OAAQ,SAClBC,MAAM,kBACNC,OAAQ1B,EACR2B,KAAK","file":"static/js/25.a078088a.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from \"react-redux\"\r\nimport {\r\n  CWidgetDropdown,\r\n  CRow,\r\n  CCol\r\n} from '@coreui/react'\r\n// import ChartLineSimple from '../charts/ChartLineSimple'\r\n// import ChartBarSimple from '../charts/ChartBarSimple'\r\n\r\nconst WidgetsDropdown = () => {\r\n  const userInfo = useSelector(state => state.reducer.loggedInUserInfo)\r\n  const [todaySales, setTodaySales] = useState(\"0\");\r\n  const [problematicSales, setProblematicSales] = useState(\"0\");\r\n  const [thisMonthSales, setThisMonthSales] = useState(\"0\");\r\n  const [thisYearSales, setThisYearSales] = useState(\"0\");\r\n\r\n  useEffect(() => {\r\n    let urlStringRole = \"\"\r\n    if (userInfo.loggedInRole === \"sales_assistant_chef\")\r\n      urlStringRole = \"sdc\"\r\n    else\r\n      urlStringRole = \"dealer\"\r\n    const urlString = `http://localhost:8080/${urlStringRole}/applications/count`\r\n    console.log(\"urlString\", urlString)\r\n    const fetchAppsCountData = async (urlString, setState) => {\r\n      console.log('fetchin')\r\n      const res = await fetch(urlString, {\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          'authorization' :`Bearer ${document.cookie.slice(8)} `\r\n        }\r\n      });\r\n      if (res.status === 200) {\r\n        const data = await res.json();\r\n        console.log(\"success\", data)\r\n        setState(data.count)\r\n      } else {\r\n        const data = await res.json();\r\n        console.log(res.status, data)\r\n      }\r\n    };\r\n    fetchAppsCountData(urlString + \"?status=approved&interval=today\", setTodaySales);\r\n    fetchAppsCountData(urlString + \"?status=rejected&interval=today\", setProblematicSales);\r\n    fetchAppsCountData(urlString + \"?status=ALL&interval=month\", setThisMonthSales);\r\n    fetchAppsCountData(urlString + \"?status=ALL&interval=year\", setThisYearSales);\r\n  }, [])\r\n  return (\r\n    <CRow>\r\n      <CCol sm=\"6\" lg=\"3\">\r\n        <CWidgetDropdown\r\n          style = {{height: \"130px\"}}\r\n          color=\"gradient-primary\"\r\n          header= {todaySales}\r\n          text=\"Bugünkü Onaylanan Satışlarınız\"\r\n        >\r\n        </CWidgetDropdown>\r\n      </CCol>\r\n\r\n      <CCol sm=\"6\" lg=\"3\">\r\n        <CWidgetDropdown\r\n          style = {{height: \"130px\"}}\r\n          color=\"gradient-info\"\r\n          header={problematicSales}\r\n          text=\"Bugünku Sıkıntılı Satışlarınız\"\r\n        >\r\n        </CWidgetDropdown>\r\n      </CCol>\r\n\r\n      <CCol sm=\"6\" lg=\"3\">\r\n        <CWidgetDropdown\r\n            style = {{height: \"130px\"}}\r\n            color=\"gradient-warning\"\r\n            header={thisMonthSales}\r\n            text=\"Bu Ayki Genel Satışlar\"\r\n          >\r\n        </CWidgetDropdown>\r\n      </CCol>\r\n\r\n      <CCol sm=\"6\" lg=\"3\">\r\n        <CWidgetDropdown\r\n          style = {{height: \"130px\"}}\r\n          color=\"gradient-danger\"\r\n          header={thisYearSales}\r\n          text=\"Bu Yılki Genel Satışlar\"\r\n        >\r\n        </CWidgetDropdown>\r\n      </CCol>\r\n\r\n\r\n    </CRow>\r\n  )\r\n}\r\n\r\nexport default WidgetsDropdown;"],"sourceRoot":""}